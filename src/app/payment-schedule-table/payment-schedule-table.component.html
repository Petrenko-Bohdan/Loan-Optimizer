<mat-card class="mat-card">
	<mat-card-content >
		<ng-container *ngIf="paymentSchedule$ | async as dataSource">
			<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
				<ng-container matColumnDef="month">
					<th mat-header-cell *matHeaderCellDef>
						Month
					</th>
					<td mat-cell *matCellDef="let element">
						{{ element.month|date:'MMMM yyyy' }}
					</td>
				</ng-container>
				<ng-container matColumnDef="capital">
					<th mat-header-cell *matHeaderCellDef>
						Kapitał
					</th>
					<td mat-cell *matCellDef="let element">
						{{ element.capital }}
					</td>
				</ng-container>			
				<ng-container matColumnDef="interest">
					<th mat-header-cell *matHeaderCellDef>
						Odsetki
					</th>
					<td mat-cell *matCellDef="let element">
						{{ element.interest }}
					</td>
				</ng-container>
				<ng-container matColumnDef="installment">
					<th mat-header-cell *matHeaderCellDef>
						Rata kapitałowa
					</th>
					<td mat-cell *matCellDef="let element">
						{{ element.installment }}
					</td>
				</ng-container>
				<ng-container matColumnDef="total">
					<th mat-header-cell *matHeaderCellDef>
						Rata
					</th>
					<td mat-cell *matCellDef="let element">
						{{ element.total }}
					</td>
				</ng-container>	
				<ng-container matColumnDef="overpayment">
					<th mat-header-cell *matHeaderCellDef>
						Nadpłata
					</th>
					<td mat-cell *matCellDef="let element; let i=index">
						<input matInput type="number" [value]="element.overpayment|| '' " (input)="onOverpaymentChange($event, i)">
					</td>					
				</ng-container>
				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [attr.data-month]="row.month"></tr>
			</table>
		</ng-container>
	</mat-card-content>
</mat-card>

